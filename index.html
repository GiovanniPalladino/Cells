<!doctype html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Organismo Tipografico</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#f5f3ed;
  --text:#45910e;
}

*{ box-sizing:border-box; }

body{
  margin:0;
  font-family:'Space Grotesk',system-ui,sans-serif;
  background:var(--bg);
  color:var(--text);
}

/* HERO */
.hero{
  position:fixed;
  inset:0;
  background:var(--bg);
  z-index:10;
}

video{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  opacity:.9;
}

/* TITOLO */
.title{
  position:absolute;
  left:32px;
  top:50%;
  transform:translateY(-50%);
  font-size:16px;
  font-weight:500;
  opacity:0;
  cursor:pointer;
}

.title.show{
  opacity:1;
}

/* stato finale */
.title.move{
  animation: titleMove 1s forwards;
}

@keyframes titleMove{
  0%{
    top:50%;
    transform:translateY(-50%);
  }
  100%{
    position:fixed;
    top:20px;
    left:32px;
    transform:none;
  }
}

/* SECONDO TESTO */
.second{
  position:fixed;
  left:32px;
  top:100%;
  opacity:0;
  font-size:18px;
  line-height:1.7;
}

.second.move{
  animation: textMove 1s forwards;
}

@keyframes textMove{
  0%{
    top:100%;
    opacity:0;
  }
  100%{
    top:50%;
    transform:translateY(-50%);
    opacity:1;
  }
}

/* CONTENUTO */
.foreword{
  padding:160px 7vw 180px;
}

.inner{
  max-width:820px;
  margin:0 auto;
  display:grid;
  gap:22px;
}

.foreword h2{
  font-size:clamp(24px,3vw,32px);
  border-bottom:1px solid rgba(69,145,14,.2);
  padding-bottom:10px;
}

.foreword p{
  font-size:18px;
  line-height:1.7;
}

.image-flow{
  position:relative;
  padding:200px 0 400px;
  min-height:320vh;
}

.image-flow img{
  position:absolute;
  opacity:.92;
}

.img1{width:28vw;top:0;left:8vw}
.img2{width:22vw;top:35vh;right:10vw}
.img3{width:34vw;top:70vh;left:14vw}
.img4{width:20vw;top:110vh;right:18vw}
.img5{width:26vw;top:150vh;left:6vw}
.img6{width:22vw;top:190vh;right:12vw}
.img7{width:30vw;top:230vh;left:20vw}
.img8{width:18vw;top:270vh;right:22vw}
.img9{width:28vw;top:310vh;left:10vw}

@media(prefers-reduced-motion:reduce){
  *{animation:none!important; transition:none!important}
}
</style>
</head>

<body>

<!-- HERO -->
<section class="hero" id="hero">
  <video id="introVideo" autoplay muted playsinline>
    <source src="media/intro.mp4" type="video/mp4">
  </video>

  <div class="title" id="title">
    Organismo Tipografico
  </div>
</section>

<!-- SECONDO TESTO -->
<div class="second" id="secondText">
  Da qui il contenuto procede in avanti.<br>
  Nessun ritorno, solo stratificazione.
</div>

<!-- CONTENUTO -->
<section class="foreword">
  <div class="inner">
    <h2>Premessa</h2>
    <p>
      L’apertura è essenziale. Il video respira.
    </p>
  </div>
</section>

<section class="image-flow">
  <img src="media/img1.jpg" class="img1">
  <img src="media/img2.jpg" class="img2">
  <img src="media/img3.jpg" class="img3">
  <img src="media/img4.jpg" class="img4">
  <img src="media/img5.jpg" class="img5">
  <img src="media/img6.jpg" class="img6">
  <img src="media/img7.jpg" class="img7">
  <img src="media/img8.jpg" class="img8">
  <img src="media/img9.jpg" class="img9">
</section>

<script>
(() => {
  const hero = document.getElementById('hero');
  const title = document.getElementById('title');
  const second = document.getElementById('secondText');
  const video = document.getElementById('introVideo');

  const startAnimations = () => {
    title.classList.add('show');

    // 2 secondi: titolo fermo, poi le due animazioni PARTONO INSIEME
    setTimeout(() => {
      title.classList.add('move');
      second.classList.add('move');

      // rimuove hero ma NON il titolo
      setTimeout(() => {
        hero.remove();
      }, 1200);
    }, 2000);
  };

  title.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });

  window.addEventListener('DOMContentLoaded', () => {
    video.play().catch(()=>{});
    setTimeout(startAnimations, 6000);
  });

  video.addEventListener('ended', startAnimations, { once:true });
})();
</script>

</body>
</html>
